<h1>top</top>

<table class="table table-responsive">
  <thead>
    <tr>
      <th class="text-center">順位</th>
      <th class="text-center">サウナ</th>
      <th class="text-center">イキタイ！数</th>
    </tr>
  </thead>
  <tbody>
    <% @saunas_ikitai.each.with_index(1) do |sauna, index| %>
      <tr>
        <td class="text-center"><%= index %></td>
        <td class="text-center"><%= sauna.name %></td>
        <td class="text-center"><%= sauna.ikitais.count %></td>
    </tr>
    <% end %>
  </tbody>
</table>

<table class="table table-responsive">
  <thead>
    <tr>
      <th class="text-center">順位</th>
      <th class="text-center">サウナ</th>
      <th class="text-center">PV数</th>
    </tr>
  </thead>
  <tbody>
    <% @saunas_pv.each.with_index(1) do |sauna, index| %>
    <tr>
      <td class="text-center"><%= index %></td>
      <td class="text-center"><%= sauna.name %></td>
      <td class="text-center"><%= sauna.impressions_count %></td>
    </tr>
    <% end %>
  </tbody>
</table>

  <% @saunas.each do |sauna| %>
  <div class="pick-up-sauna col-xs-3">
    <%= link_to user_sauna_path(sauna) do %>
    <%= sauna.name %>
  <% end %>
  <% end %>


<h2>gmap</h2>
<div id='map' style="width:500px; height:500px"></div>

<script>
  let map

  function initMap() {
    geocoder = new google.maps.Geocoder()

    map = new google.maps.Map(document.getElementById('map'), {
      center: {
        lat: 40.7828,
        lng: -73.9653
      },
      zoom: 12,
    });

    marker = new google.maps.Marker({
      position: {
        lat: 40.7828,
        lng: -73.9653
      },
      map: map
    });
  }

</script>
<script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_MAP_API'] %>&callback=initMap" async
  defer></script>
